{% extends "dashboard/base.html" %}
{% block content %}

<!-- Main content -->
<main class="main" ng-app="dlHsDistrictApp" ng-controller="DlHsDistrictController">

    <!-- Breadcrumb -->
    <ol class="breadcrumb">

        <li class="breadcrumb-item"><a href="#">Admin</a>
        </li>
        <li class="breadcrumb-item"><a href="#">Health Sector</a>
        </li>

        <li class="breadcrumb-item active"><span class="label label-success" style="font-size:14px;">Table 8: Summary of Damages and Losses in the Health sector in a District</span>
        </li>

    </ol>


    <div class="container-fluid">

        <div class="card">
            <div class="card-header">
                <strong>Search</strong>

            </div>
            <div class="card-block">


                <div ng-form name="report_sum_dl_dis" class="row">
                     <div class="col-sm-3">

                        <div class="form-group">
                            <label for="cvv">Incident</label>
                            <select ng-change="fetchDistricts()" id="ccyear" ng-model="incident" name="incident" class="form-control" required>
                            <option value="">-- Select --</option>
                            {% for incident in incidents %}
                            <option value="{{ incident.id }}">
                                {{incident.incident_name}}
                            </option>
                            {% endfor %}
                        </select>
                            <span style="color:red;" ng-show="submitted && report_sum_dl_dis.incident.$error.required">
                                       Please select Incident
                                 </span>
                        </div>

                    </div>
                    <div class="form-group col-sm-3">
                        <label for="ccyear">District</label>
                        <select name="district" id="ccyear" ng-model="district" class="form-control" required>
                            <option value="">-- Select --</option>

                            <option ng-repeat="district in districts" ng-value="district.district__id" ng-bind="district.district__name"></option>

                        </select>
                        <span style="color:red;" ng-show="submitted && report_sum_dl_dis.district.$error.required">
                                       Please select District
                                 </span>
                    </div>




                    <div class="col-sm-1">

                        <div class="form-group">

                            <button ng-click="filterData(report_sum_dl_dis)" type="button" class="btn btn-sm btn-primary" style="padding:7px;margin-top:28px;"><i
                                    class="fa fa-search"></i> Search
                            </button>
                        </div>

                    </div>

                </div>
                <!--/row-->
            </div>
        </div>
        <div>
           

            <div id="myTabContent" class="tab-content">
                <div class="tab-pane active" id="step1">
                    <table class="table table-bordered" style="width:100%;">
                        <colgroup>
                            <col width="264"/>
                            <col width="98" span="7"/>
                        </colgroup>
                        <tbody>
<tr >
<td colspan="8" class="trheadc">
Public Sector
</td> 
</tr>

                        <tr height="20" class="trheadc">
                            <td rowspan="2" width="264" height="40" style="text-align:left;padding-left:5px;">
                                Facilities and Assets
                            </td>
                            <td rowspan="2" width="98">
                                Total Number Affected
                            </td>
                            <td colspan="2" width="196" style="text-align:center;">
                                Total Number of Patients Affected
                            </td>
                            <td rowspan="2" width="98">
                                Total Damages (LKR)
                            </td>
                            <td colspan="2" width="196" style="text-align:center;">
                                Losses (LKR)
                            </td>
                            <td rowspan="2" width="98">
                                Total Losses (LKR)
                            </td>
                        </tr>
                        <tr height="20" class="trsubc">
                            <td width="98" height="20">
                                Male
                            </td>
                            <td width="98">
                                Female
                            </td>
                            <td width="98">
                                Year 1
                            </td>
                            <td width="98">
                                Year 2
                            </td>
                        </tr>
                       
                            <tr height="20" class="trhead">
                                <td width="264" height="20" style="padding-left:5px;">
                                    Line Ministry Health System
                                </td>
                                <td width="98">
                                </td>
                                <td width="98">
                                </td>
                                <td width="98">
                                </td>
                                <td width="98">
                                </td>
                                <td width="98">
                                </td>
                                <td width="98">
                                </td>
                                <td width="98">
                                </td>
                            </tr>
                            <tr ng-repeat="dshPubLmh in dlhealthsectordistrict.Table_8.DshPubLmh" height="20">
                                <td ng-bind="dshPubLmh.facilities_assets" ng-if="dshPubLmh.facilities_assets != 'Total'" ng-model="dshPubLmh.facilities_assets" width="264" height="20" class="tdpa">

                                </td>
                                <td ng-bind="dshPubLmh.facilities_assets" class="boldash" ng-if="dshPubLmh.facilities_assets=='Total'" ng-model="dshPubLmh.facilities_assets" width="264" height="20" class="tdpa">

                                </td>
                                <td ng-bind="dshPubLmh.total_num_affected" width="98">

                                </td>
                                <td ng-bind="dshPubLmh.male" width="98">

                                </td>
                                <td ng-bind="dshPubLmh.female" width="98">

                                </td>
                                <td ng-bind="dshPubLmh.total_damages" width="98">

                                </td>
                                <td ng-bind="dshPubLmh.losses_y1" width="98">

                                </td>
                                <td ng-bind="dshPubLmh.losses_y2" width="98">

                                </td>
                                <td ng-bind="dshPubLmh.total_losses" width="98">

                                </td>
                            </tr>



                            <tr height="20" class="trhead">
                                <td width="264" height="20">
                                    MOH
                                </td>
                                <td width="98">
                                </td>
                                <td width="98">
                                </td>
                                <td width="98">
                                </td>
                                <td width="98">
                                </td>
                                <td width="98">
                                </td>
                                <td width="98">
                                </td>
                                <td width="98">
                                </td>
                            </tr>
                            <tr ng-repeat="dshPubMoh in dlhealthsectordistrict.Table_8.DshPubMoh" height="20">
                                <td ng-bind="dshPubMoh.facilities_assets" ng-if="dshPubMoh.facilities_assets=='Total'" class="boldash" width="264" height="20" class="tdpa">

                                </td>
                                <td ng-bind="dshPubMoh.facilities_assets" ng-if="dshPubMoh.facilities_assets != 'Total'" width="264" height="20" class="tdpa">

                                </td>
                                <td ng-bind="dshPubMoh.total_num_affected" width="98">

                                </td>
                                <td ng-bind="dshPubMoh.male" width="98">

                                </td>
                                <td ng-bind="dshPubMoh.female" width="98">

                                </td>
                                <td ng-bind="dshPubMoh.total_damages" width="98">

                                </td>
                                <td ng-bind="dshPubMoh.losses_y1" width="98">

                                </td>
                                <td ng-bind="dshPubMoh.losses_y2" width="98">

                                </td>
                                <td ng-bind="dshPubMoh.total_losses" width="98">

                                </td>
                            </tr>


                            <tr height="20" class="trheadc">
                                <td width="264" height="20">
                                    Other Medical Facilities
                                </td>
                                <td width="98">
                                </td>
                                <td width="98">
                                </td>
                                <td width="98">
                                </td>
                                <td width="98">
                                </td>
                                <td width="98"></td>
                                <td width="98">
                                </td>
                                <td width="98">
                                </td>
                            </tr>
                            <tr ng-repeat="dshPubOmf in dlhealthsectordistrict.Table_8.DshPubOmf" height="20">

                                <td ng-bind="dshPubOmf.facilities_assets" ng-if="dshPubOmf.facilities_assets=='Total'  || dshPubOmf.facilities_assets=='TOTAL'" class="boldash" width="264" height="20" class="tdpa">

                                </td>
                                <td ng-bind="dshPubOmf.facilities_assets" ng-if="dshPubOmf.facilities_assets != 'Total' && dshPubOmf.facilities_assets != 'TOTAL'" width="264" height="20" class="tdpa">

                                </td>
                                <td ng-bind="dshPubOmf.total_num_affected" width="98">

                                </td>
                                <td ng-bind="dshPubOmf.male" width="98">

                                </td>
                                <td ng-bind="dshPubOmf.female" width="98">

                                </td>
                                <td ng-bind="dshPubOmf.total_damages" width="98">

                                </td>
                                <td ng-bind="dshPubOmf.losses_y1" width="98">

                                </td>
                                <td ng-bind="dshPubOmf.losses_y2" width="98">

                                </td>
                                <td ng-bind="dshPubOmf.total_losses" width="98">

                                </td>

                            </tr>

<tr >
<td colspan="8" class="trheadc">
Private Sector
</td> 
</tr>
 <tr height="20" class="trheadc">
                            <td rowspan="2" width="264" height="40" style="text-align:left;padding-left:5px;">
                                Facilities and Assets
                            </td>
                            <td rowspan="2" width="98">
                                Total Number Affected
                            </td>
                            <td colspan="2" width="196" style="text-align:center;">
                                Total Number of Patients Affected
                            </td>
                            <td rowspan="2" width="98">
                                Total Damages (LKR)
                            </td>
                            <td colspan="2" width="196" style="text-align:center;">
                                Losses (LKR)
                            </td>
                            <td rowspan="2" width="98">
                                Total Losses (LKR)
                            </td>
                        </tr>
                        <tr height="20" class="trsubc">
                            <td width="98" height="20">
                                Male
                            </td>
                            <td width="98">
                                Female
                            </td>
                            <td width="98">
                                Year 1
                            </td>
                            <td width="98">
                                Year 2
                            </td>
                        </tr>
                        <tr ng-repeat="dshPvtFa in dlhealthsectordistrict.Table_8.DshPvtFa" height="20">
                            <td ng-bind="dshPvtFa.facilities_assets" ng-if="dshPvtFa.facilities_assets == 'TOTAL'" class="boldash" width="264" height="20" class="tdpa">

                            </td>
                            <td ng-bind="dshPvtFa.facilities_assets" ng-if="dshPvtFa.facilities_assets != 'TOTAL'"  width="264" height="20" class="tdpa">

                            </td>
                            <td ng-bind="dshPvtFa.total_num_affected" width="98">

                            </td>
                            <td ng-bind="dshPvtFa.male" width="98">

                            </td>
                            <td ng-bind="dshPvtFa.female" width="98">

                            </td>
                            <td ng-bind="dshPvtFa.total_damages" width="98">

                            </td>
                            <td ng-bind="dshPvtFa.losses_y1" width="98">

                            </td>
                            <td ng-bind="dshPvtFa.losses_y2" width="98">

                            </td>
                            <td ng-bind="dshPvtFa.total_losses" width="98">

                            </td>

                        </tr>
<tr >
<td colspan="8" class="trheadc">
TOTAL DAMAGES AND LOSSES
</td> 
</tr>
 <tr height="20" class="trheadc">
                            <td rowspan="2" width="264" height="40" style="text-align:left;padding-left:5px;">
                                Ownership
                            </td>
                            <td colspan="2" rowspan="2" width="196">
                                Damages (LKR)
                            </td>
                            <td colspan="4" width="392" style="text-align:center;">
                                Losses (LKR)
                            </td>
                            <td rowspan="2" width="98">
                                Total (LKR)
                            </td>
                        </tr>
                        <tr height="20" class="trsubc">
                            <td colspan="2" width="196" height="20">
                                Year 1
                            </td>
                            <td colspan="2" width="196">
                                Year 2
                            </td>
                        </tr>
                        <tr ng-repeat="dshTdlOwship in dlhealthsectordistrict.Table_8.DshTdlOwship" height="20">
                            <td width="264" ng-bind="dshTdlOwship.ownership" ng-if="dshTdlOwship.ownership != 'TOTAL'" height="20" class="tdpa">

                            </td>
                            <td width="264" ng-bind="dshTdlOwship.ownership" ng-if="dshTdlOwship.ownership == 'TOTAL'" height="20" class="tdpa boldash">

                            </td>
                            <td ng-bind="dshTdlOwship.damages" colspan="2" width="196">

                            </td>
                            <td ng-bind="dshTdlOwship.losses_y1" colspan="2" width="196">

                            </td>
                            <td ng-bind="dshTdlOwship.losses_y2" colspan="2" width="196">

                            </td>
                            <td ng-bind="dshTdlOwship.total" width="98">

                            </td>
                        </tr>

                        </tbody>
                    </table>
                   



                


                <br><br>

            </div>
        </div>


    </div>

    </div>
    <!-- /.conainer-fluid -->
</main>
{% endblock content %}
